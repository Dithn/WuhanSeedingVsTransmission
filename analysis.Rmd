---
title: "Wuhan: Seeding vs transmission"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# Packages and setup

```{r}
library(tidyverse)
library(ringbp)
```

# Scenarios and parameter sampling

* Stratify the analysis by seeding event size and duration:
  * Event size: 20, 40, 60, 80, 100
  * Event duration: 7 days, 14 days, 28 days
  * Case detection (and definition): 0.2, 0.4, 0.6, 0.8
* Sampled parameters:
  * Incubation period: 5 days (*CI needed*)
  * Generation time: 8-9 days (*CI needed*)
* Fitted parameters
  * R0: Uniform(0, 5) prior


# Scenario analysis

1. Branching process from `ringbp`
2. Run an outbreak for each day of the assumed seeding event
3. Summarise outbreaks across a single seeding event


# Restrict scenarios

Restrict potential scenarios based on an upper and lower bound of total cases.

# Summarise analysis

Summarise each outbreak across samples. Generate:
  * Upper and lower bounds on the R0 value
  
# Output

Compare R0s across scenarios (reporting only upper and lower bounds):

* Grid of event size vs event duration with R0 estimates for each comparison for each case detection.
* Grid acreas can be rejected based on?

  #### Analysis implementation

  ##### Option 1

  1. Base the branching process model on Joel's (initially Adam's) approach.
  2. Run the model for each fixed parameter scenario.
    * For each day of the seeding event, seeding the number of initial cases expected on that day
    * Run the observation model on the overall number of expected cases for each seeded outbreak
    * Summarise the overall outbreak
    * Fit R0 for the sampled outbreaks - *How should this be done?*


### Output

